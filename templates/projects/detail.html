{% extends "layout.html" %}
{% block title %}Project Detail{% endblock %}

{% block main %}
<div class="container-fluid bg-light p-4">

    <!-- title + actions -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-primary mb-1">{{ project["name"] }}</h2>

            <p class="text-muted mb-1">
                Client:
                <a href="{{ url_for('client_detail', client_id=client['id']) }}">
                    {{ client['name'] }}
                </a>
            </p>

            <!-- status badge -->
            <span class="badge
                {% if project['status'] == 'Completed' %}
                    bg-success
                {% elif project['status'] == 'In Progress' %}
                    bg-warning text-dark
                {% elif project['status'] == 'Pending' %}
                    bg-secondary
                {% else %}
                    bg-light text-dark
                {% endif %}
            ">
                {{ project.status }}
            </span>
        </div>

        <div class="d-flex gap-2">
            <!-- Edit btn -->
            <a href="{{ url_for('edit_project', project_id=project['id']) }}"
               class="btn btn-outline-primary btn-sm">
               Edit Project
            </a>

            <!-- Delete btn -->
            <form action="{{ url_for('delete_project', project_id=project['id']) }}"
                  method="post"
                  onsubmit="return confirm('Are you sure you want to delete this project?');">
                <button type="submit" class="btn btn-outline-danger btn-sm">
                    Delete
                </button>
            </form>
        </div>
    </div>

    <hr>

    <!-- Dates -->
    <div class="row mb-4">
        <div class="col-md-4">
            <strong>Start date:</strong>
            <p>{{ project["start_date"] or '-' }}</p>
        </div>
        <div class="col-md-4">
            <strong>Due date:</strong>
            <p>{{ project["due_date"] or '-' }}</p>
        </div>
        <div class="col-md-4">
            <strong>Status:</strong>
            <p>{{ project["status"] }}</p>
        </div>
    </div>

    <hr>

    <!-- Description -->
    <h5 class="text-primary">Description</h5>
    <p>{{ project["description"] }}</p>

    <hr>

    <!-- Notes -->
    <h5 class="text-primary">Notes</h5>
    <div class="card shadow-sm">
        <div class="card-body">
            <p class="mb-0">{{ project["notes"] }}</p>
        </div>
    </div>

</div>
{% endblock %}
